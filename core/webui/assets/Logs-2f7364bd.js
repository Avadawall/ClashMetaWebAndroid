import{c as t,L as H,i as e,F as w,b as C,t as f,k as y,p as P,j as X,g as M,M as Z,ae as A,P as J,an as K,ao as Q,d as G,D as U,e as Y}from"./vendor-5f1229f9.js";import{c as ee,g as te,a as le,e as re,f as j,r as se}from"./index-e2183211.js";import{u as q,d as I,w as ne,T as ae,x as oe,L as g,y as ie,z as ce,A as N,D as O,E as B,M as de,F as ge,B as ue,v as he}from"./index-d4aad9d6.js";const fe=f('<div class="flex flex-col gap-4"><div><select class="select select-bordered w-full"></select></div><div><select class="select select-bordered w-full"></select></div><div><select class="select select-bordered w-full">'),k=f("<option>"),ve=o=>{const[s]=q();return t(de,{ref:c=>{var i;return(i=o.ref)==null?void 0:i.call(o,c)},get icon(){return t(H,{size:24})},get title(){return s("logsSettings")},get children(){const c=fe(),i=c.firstChild,d=i.firstChild,b=i.nextSibling,_=b.firstChild,p=b.nextSibling,$=p.firstChild;return e(i,t(I,{withDivider:!0,get children(){return s("tableSize")}}),d),d.addEventListener("change",l=>ne(l.target.value)),e(d,t(w,{get each(){return Object.values(ae)},children:l=>(()=>{const n=k();return n.value=l,e(n,()=>s(l)),n})()})),e(b,t(I,{withDivider:!0,get children(){return s("logLevel")}}),_),_.addEventListener("change",l=>oe(l.target.value)),e(_,t(w,{get each(){return[g.Info,g.Error,g.Warning,g.Debug,g.Silent]},children:l=>(()=>{const n=k();return n.value=l,e(n,()=>s(l)),n})()})),e(p,t(I,{withDivider:!0,get children(){return s("logMaxRows")}}),$),$.addEventListener("change",l=>ie(parseInt(l.target.value))),e($,t(w,{each:ce,children:l=>(()=>{const n=k();return n.value=l,e(n,l),n})()})),C(()=>d.value=N()),C(()=>_.value=O()),C(()=>$.value=B()),c}})},me=f("<span>"),_e=f('<div class="flex h-full flex-col gap-2"><div class="join w-full"><input type="search" class="input join-item input-primary input-sm flex-1 flex-shrink-0 sm:input-md"></div><div class="overflow-x-auto whitespace-nowrap rounded-md bg-base-300"><table><thead class="sticky top-0 z-10"></thead><tbody>'),$e=f("<tr>"),be=f('<th class="bg-base-200"><div class="flex items-center"><div>'),pe=f('<tr class="hover:!bg-primary hover:text-primary-content">'),Se=f('<td class="py-2">'),W=(o,s,c,i)=>{const d=se(o.getValue(s),c);return i({itemRank:d}),d.passed},Le=()=>{let o;const[s]=q();let c=1;const[i,d]=y([]),b=ge("logs",{level:O()});P(()=>{const r=b();r&&(d(v=>[{...r,seq:c},...v].slice(0,B())),c++)});const[_,p]=y(""),[$,l]=X(y([]),{name:"logsTableSorting",storage:localStorage}),n=[{header:s("sequence"),accessorFn:r=>r.seq},{header:s("type"),accessorFn:r=>r.type,cell:({row:r})=>{const v=r.original.type;let u="";switch(v){case g.Error:u="text-error";break;case g.Warning:u="text-warning";break;case g.Info:u="text-info";break;case g.Debug:u="text-success";break}return(()=>{const S=me();return M(S,u),e(S,()=>`[${r.original.type}]`),S})()}},{header:s("payload"),accessorFn:r=>r.payload}],E=ee({filterFns:{fuzzy:W},state:{get globalFilter(){return _()},get sorting(){return $()}},get data(){return i()},sortDescFirst:!0,columns:n,onGlobalFilterChange:p,onSortingChange:l,globalFilterFn:W,getFilteredRowModel:te(),getSortedRowModel:le(),getCoreRowModel:re()});return(()=>{const r=_e(),v=r.firstChild,u=v.firstChild,S=v.nextSibling,R=S.firstChild,D=R.firstChild,V=D.nextSibling;return u.$$input=a=>p(a.target.value),e(v,t(ue,{class:"join-item btn-sm sm:btn-md",onClick:()=>o==null?void 0:o.showModal(),get icon(){return t(Z,{})}}),null),e(D,t(A,{get each(){return E.getHeaderGroups()},children:a=>{const m=a();return(()=>{const h=$e();return e(h,t(A,{get each(){return m.headers},children:L=>{const x=L();return(()=>{const z=be(),T=z.firstChild,F=T.firstChild;return J(F,"click",x.column.getToggleSortingHandler(),!0),e(F,()=>j(x.column.columnDef.header,x.getContext())),e(T,()=>({asc:t(K,{}),desc:t(Q,{})})[x.column.getIsSorted()]??null,null),C(()=>M(F,G(x.column.getCanSort()&&"cursor-pointer select-none","flex-1"))),z})()}})),h})()}})),e(V,t(w,{get each(){return E.getRowModel().rows},children:a=>(()=>{const m=pe();return e(m,t(w,{get each(){return a.getVisibleCells()},children:h=>(()=>{const L=Se();return e(L,()=>j(h.column.columnDef.cell,h.getContext())),L})()})),m})()})),e(r,t(ve,{ref:a=>o=a}),null),C(a=>{const m=s("search"),h=G(he(N()),"table relative rounded-none");return m!==a._v$&&U(u,"placeholder",a._v$=m),h!==a._v$2&&M(R,a._v$2=h),a},{_v$:void 0,_v$2:void 0}),r})()};Y(["input","click"]);export{Le as default};
